@isTest
global class FlightFinderCalloutMock implements HttpCalloutMock {
    global HTTPResponse respond(HTTPRequest request) {
        HttpResponse response = new HttpResponse();
        
        // send back a response based upon the request endpoint
        if (request.getEndpoint().endsWith('?destination=LAX')) {
            response.setBody('[{ "code": "A101", "airlineName": "American", "flightNumber": "A101", "destination": "LAX", "origin": "PDX", "departureDate": "2023-1-21", "price": 600.0, "planeType": "Airbus 330", "emptySeats": 65  },  { "code": "A500", "airlineName": "American", "flightNumber": "A500", "destination": "LAX", "origin": "CLE", "departureDate": "2023-1-23", "price": 980.0, "planeType": "Boing 787", "emptySeats": 24  },  { "code": "A444", "airlineName": "American", "flightNumber": "A444", "destination": "LAX", "origin": "SFO", "departureDate": "2023-1-23", "price": 875.0, "planeType": "Airbus 300", "emptySeats": 45  },  { "code": "A999", "airlineName": "American", "flightNumber": "A999", "destination": "LAX", "origin": "PDX", "departureDate": "2023-1-14", "price": 975.0, "planeType": "Boing 787", "emptySeats": 132  },  { "code": "U821", "airlineName": "United", "flightNumber": "U821", "destination": "LAX", "origin": "CLE", "departureDate": "2023/04/21", "price": 500, "planeType": "Boeing 777", "emptySeats": 31  },  { "code": "U999", "airlineName": "United", "flightNumber": "U999", "destination": "LAX", "origin": "SFO", "departureDate": "2023/04/11", "price": 600, "planeType": "Boeing 737", "emptySeats": 59  },  { "code": "U673", "airlineName": "United", "flightNumber": "U673", "destination": "LAX", "origin": "PDX", "departureDate": "2023/03/28", "price": 750, "planeType": "Boeing 777", "emptySeats": 0  },  { "code": "U987", "airlineName": "United", "flightNumber": "U987", "destination": "LAX", "origin": "PDF", "departureDate": "2023/03/29", "price": 575, "planeType": "Boeing 707", "emptySeats": 56  },  { "code": "DA1B2C4", "airlineName": "Delta", "flightNumber": "DA1B2C4", "destination": "LAX", "origin": "MUA", "departureDate": "2015/02/11", "price": 199.99, "planeType": "Boing 737", "emptySeats": 10  },  { "code": "DA134DS", "airlineName": "Delta", "flightNumber": "DA134DS", "destination": "LAX", "origin": "MUA", "departureDate": "2015/04/11", "price": 750.0, "planeType": "Boing 777", "emptySeats": 40  }]');
        } else if (request.getEndpoint().endsWith('/U1100')) {
            response.setBody('{"code":"U1100","airlineName":"United","flightNumber":"U1100","amount":400,"destination":"SFO","origin":"PDX","date":"2023/03/20","planeType":"Boeing 737","seatsAvailable":1}');
        } else {
            response.setBody('[{ "code": "A101", "airlineName": "American", "flightNumber": "A101", "destination": "LAX", "origin": "PDX", "departureDate": "2023-1-21", "price": 600.0, "planeType": "Airbus 330", "emptySeats": 65  },  { "code": "A500", "airlineName": "American", "flightNumber": "A500", "destination": "LAX", "origin": "CLE", "departureDate": "2023-1-23", "price": 980.0, "planeType": "Boing 787", "emptySeats": 24  },  { "code": "A444", "airlineName": "American", "flightNumber": "A444", "destination": "LAX", "origin": "SFO", "departureDate": "2023-1-23", "price": 875.0, "planeType": "Airbus 300", "emptySeats": 45  },  { "code": "A999", "airlineName": "American", "flightNumber": "A999", "destination": "LAX", "origin": "PDX", "departureDate": "2023-1-14", "price": 975.0, "planeType": "Boing 787", "emptySeats": 132  },  { "code": "U821", "airlineName": "United", "flightNumber": "U821", "destination": "LAX", "origin": "CLE", "departureDate": "2023/04/21", "price": 500, "planeType": "Boeing 777", "emptySeats": 31  },  { "code": "U999", "airlineName": "United", "flightNumber": "U999", "destination": "LAX", "origin": "SFO", "departureDate": "2023/04/11", "price": 600, "planeType": "Boeing 737", "emptySeats": 59  },  { "code": "U673", "airlineName": "United", "flightNumber": "U673", "destination": "LAX", "origin": "PDX", "departureDate": "2023/03/28", "price": 750, "planeType": "Boeing 777", "emptySeats": 0  },  { "code": "U987", "airlineName": "United", "flightNumber": "U987", "destination": "LAX", "origin": "PDF", "departureDate": "2023/03/29", "price": 575, "planeType": "Boeing 707", "emptySeats": 56  },  { "code": "DA1B2C4", "airlineName": "Delta", "flightNumber": "DA1B2C4", "destination": "LAX", "origin": "MUA", "departureDate": "2015/02/11", "price": 199.99, "planeType": "Boing 737", "emptySeats": 10  },  { "code": "DA134DS", "airlineName": "Delta", "flightNumber": "DA134DS", "destination": "LAX", "origin": "MUA", "departureDate": "2015/04/11", "price": 750.0, "planeType": "Boing 777", "emptySeats": 40  },  { "code": "DA1QWER", "airlineName": "Delta", "flightNumber": "DA1QWER", "destination": "LAX", "origin": "MUA", "departureDate": "2015/08/11", "price": 496.0, "planeType": "Boing 747", "emptySeats": 18  }]');
        }

        response.setHeader('Content-Type', 'application/json');
        response.setStatusCode(200);
        return response; 
    }
}